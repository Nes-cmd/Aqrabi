(()=>{itemid=13,ClassicEditor.create(document.querySelector("#ckeditor-classic")).then((function(e){e.ui.view.editable.element.style.height="200px"})).catch((function(e){console.error(e)}));var e=document.querySelector("#dropzone-preview-list");e.itemid="";var t=e.parentNode.innerHTML;e.parentNode.removeChild(e);new Dropzone(".dropzone",{url:"https://httpbin.org/post",method:"post",previewTemplate:t,previewsContainer:"#dropzone-preview"});!function(){"use strict";var e=document.querySelectorAll(".needs-validation"),t=(new Date).toUTCString().slice(5,16);function i(){var e=(new Date).getHours()>=12?"PM":"AM",t=(new Date).getHours()>12?(new Date).getHours()%12:(new Date).getHours(),i=(new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes();return t<10?"0"+t+":"+i+" "+e:t+":"+i+" "+e}setInterval(i,1e3),document.querySelector("#product-image-input").addEventListener("change",(function(){var e=document.querySelector("#product-img"),t=document.querySelector("#product-image-input").files[0],i=new FileReader;i.addEventListener("load",(function(){e.src=i.result}),!1),t&&i.readAsDataURL(t)}));var n=new Choices("#choices-category-input",{searchEnabled:!1});if(o=sessionStorage.getItem("editInputValue")){var o=JSON.parse(o);document.getElementById("formAction").value="edit",document.getElementById("product-id-input").value=o.id,document.getElementById("product-img").src=o.product.img,document.getElementById("product-title-input").value=o.product.title,document.getElementById("stocks-input").value=o.stock,document.getElementById("product-price-input").value=o.price,document.getElementById("orders-input").value=o.orders,n.setChoiceByValue(o.product.category)}Array.prototype.slice.call(e).forEach((function(e){e.addEventListener("submit",(function(r){if(e.checkValidity()){r.preventDefault(),itemid++;var u=itemid,d=document.getElementById("product-title-input").value,a=n.getValue(!0),s=document.getElementById("stocks-input").value,c=document.getElementById("orders-input").value,l=document.getElementById("product-price-input").value,p=document.getElementById("product-img").src,m=document.getElementById("formAction").value;if("add"==m)if(null!=sessionStorage.getItem("inputValue")){var g=JSON.parse(sessionStorage.getItem("inputValue")),v={id:u+1,product:{img:p,title:d,category:a},stock:s,price:l,orders:c,rating:"--",published:{publishDate:t,publishTime:i()}};g.push(v),sessionStorage.setItem("inputValue",JSON.stringify(g))}else{g=[],v={id:u,product:{img:p,title:d,category:a},stock:s,price:l,orders:c,rating:"--",published:{publishDate:t,publishTime:i()}};g.push(v),sessionStorage.setItem("inputValue",JSON.stringify(g))}else if("edit"==m){var y=document.getElementById("product-id-input").value;if(sessionStorage.getItem("editInputValue")){var h={id:parseInt(y),product:{img:p,title:d,category:a},stock:s,price:l,orders:c,rating:o.rating,published:{publishDate:t,publishTime:i()}};sessionStorage.setItem("editInputValue",JSON.stringify(h))}}else console.log("Form Action Not Found.");return window.location.replace("apps-ecommerce-products"),!1}r.preventDefault(),r.stopPropagation(),e.classList.add("was-validated")}),!1)}))}()})();